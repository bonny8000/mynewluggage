const data = {
    "貼身小物米黃袋": [
        { "Item": "綁頭髮", "Quantity": 10 },
        { "Item": "沐浴乳", "Quantity": 1 },
        { "Item": "洗髮精", "Quantity": 1 },
        { "Item": "乳液", "Quantity": 1 },
        { "Item": "潤髮乳", "Quantity": 1 },
        { "Item": "梳子", "Quantity": 2 },
        { "Item": "酒精棉片", "Quantity": 2 },
        { "Item": "小棉花棒", "Quantity": 1 },
        { "Item": "拔牙式小物", "Quantity": 1 },
        { "Item": "指甲剪", "Quantity": 1 },
        { "Item": "掏耳棒", "Quantity": 1 },
        { "Item": "黑髮夾", "Quantity": 1 },
        { "Item": "粉紅保濕", "Quantity": 1 },
        { "Item": "護髮OGUMA", "Quantity": 1 },
        { "Item": "旅行牙刷組", "Quantity": 2 },
        { "Item": "卸妝棉", "Quantity": 1 },
        { "Item": "眼鏡盒", "Quantity": 1 },
        { "Item": "棉花棒", "Quantity": 1 },
        { "Item": "Coco香水", "Quantity": 1 },
        { "Item": "耳溫槍", "Quantity": 1 },
        { "Item": "卸妝水", "Quantity": 1 },
        { "Item": "Mac口紅", "Quantity": 1 },
        { "Item": "眉筆", "Quantity": 1 },
        { "Item": "護唇膏", "Quantity": 1 },
        { "Item": "眼線筆", "Quantity": 1 },
        { "Item": "凡士林", "Quantity": 1 },
        { "Item": "卸妝膏液", "Quantity": 1 }
    ],
    "助聽器米黃袋": [
        { "Item": "助聽器電池", "Quantity": 9 },
        { "Item": "乾燥機器", "Quantity": 1 },
        { "Item": "備用盒", "Quantity": 1 }
    ],
    "灰色化妝包": [
        { "Item": "保濕霜", "Quantity": 1 },
        { "Item": "素顏霜", "Quantity": 1 },
        { "Item": "小防曬", "Quantity": 1 },
        { "Item": "牙線盒", "Quantity": 1 },
        { "Item": "AD", "Quantity": 1 },
        { "Item": "粉底", "Quantity": 1 },
        { "Item": "黑色口罩", "Quantity": 10 },
        { "Item": "彩妝盒", "Quantity": 1 },
        { "Item": "眼影盒", "Quantity": 1 },
        { "Item": "洗面乳", "Quantity": 1 },
        { "Item": "面膜", "Quantity": 5 },
        { "Item": "灰色行充", "Quantity": 1 },
        { "Item": "綠色無線行充", "Quantity": 1 },
        { "Item": "磁吸卡夾", "Quantity": 1 },
        { "Item": "盒裝牙刷牙膏組", "Quantity": 1 },
        { "Item": "藍色大梳子", "Quantity": 1 },
        { "Item": "新牙膏", "Quantity": 1 },
        { "Item": "新牙刷", "Quantity": 1 }
    ],
    "米黃小束袋": [
        { "Item": "變色片", "Quantity": 15 },
        { "Item": "普通隱眼", "Quantity": 29 },
        { "Item": "轉接頭", "Quantity": 2 },
        { "Item": "牙線", "Quantity": 2 }
    ],
    "中藍壓縮袋": [
        { "Item": "黑色羽絨衣", "Quantity": 1 },
        { "Item": "黃黑點內搭衣", "Quantity": 1 },
        { "Item": "裙色圍巾", "Quantity": 1 },
        { "Item": "短褲", "Quantity": 2 },
        { "Item": "短裙", "Quantity": 1 },
        { "Item": "長褲", "Quantity": 11 },
        { "Item": "襪子", "Quantity": 10 },
        { "Item": "保暖灰褲", "Quantity": 2 }
    ],
    "大藍壓縮袋": [
        { "Item": "皮衣薄外套", "Quantity": 1 },
        { "Item": "黑色西裝外套", "Quantity": 1 },
        { "Item": "深藍袋鼠薄外套", "Quantity": 1 },
        { "Item": "黃褐色帽T外套", "Quantity": 1 },
        { "Item": "灰色格紋西裝外套", "Quantity": 1 },
        { "Item": "黑色薄羽絨衣", "Quantity": 1 },
        { "Item": "灰色羽絨背心", "Quantity": 1 },
        { "Item": "極度乾燥外套", "Quantity": 1 },
        { "Item": "短袖", "Quantity": 18 },
        { "Item": "長袖", "Quantity": 2 },
        { "Item": "床單", "Quantity": 1 },
        { "Item": "枕頭套", "Quantity": 2 },
        { "Item": "拔牙式毛巾", "Quantity": 2 },
        { "Item": "護髮膨襯", "Quantity": 2 },
        { "Item": "小毛巾", "Quantity": 3 },
        { "Item": "大毛巾", "Quantity": 1 },
        { "Item": "洗衣袋", "Quantity": 2 }
    ],
    "黑大行李箱": [
        { "Item": "手套", "Quantity": 2 },
        { "Item": "毛帽", "Quantity": 1 },
        { "Item": "發熱衣", "Quantity": 1 },
        { "Item": "保暖耳罩", "Quantity": 1 },
        { "Item": "灰色羽絨衣", "Quantity": 1 },
        { "Item": "粉紅棉襖", "Quantity": 1 },
        { "Item": "MagSafe充電座", "Quantity": 1 },
        { "Item": "MagSafe充電器", "Quantity": 1 }
    ],
    "藍大行李箱": [
        { "Item": "戶外鞋", "Quantity": 3 },
        { "Item": "戶外拖鞋", "Quantity": 1 },
        { "Item": "室內拖鞋", "Quantity": 1 },
        { "Item": "枕頭", "Quantity": 1 },
        { "Item": "側提包", "Quantity": 1 },
        { "Item": "側背包", "Quantity": 1 },
        { "Item": "小腰包", "Quantity": 1 },
        { "Item": "平板", "Quantity": 1 },
        { "Item": "除塵紙拖把", "Quantity": 1 },
        { "Item": "小衛生紙", "Quantity": 4 },
        { "Item": "舒壓眼罩", "Quantity": 5 },
        { "Item": "疼痛貼布", "Quantity": 1 },
        { "Item": "Switch bot攝像頭", "Quantity": 1 },
        { "Item": "抗敏感牙膏", "Quantity": 1 },
        { "Item": "眉刀", "Quantity": 1 },
        { "Item": "隱眼盒", "Quantity": 2 },
        { "Item": "備用眼鏡", "Quantity": 1 },
        { "Item": "資料夾", "Quantity": 10 },
        { "Item": "備用手機", "Quantity": 1 },
        { "Item": "備用手機充電器", "Quantity": 1 }
    ],
    "中米黃袋": [
        { "Item": "除塵紙", "Quantity": 2 },
        { "Item": "食鹽水", "Quantity": 1 },
        { "Item": "黏滾筒手把", "Quantity": 3 },
        { "Item": "小掃把", "Quantity": 1 },
        { "Item": "拖布", "Quantity": 1 }
    ],
    "大米黃袋": [
        { "Item": "乳酸菌", "Quantity": 1 },
        { "Item": "垃圾袋", "Quantity": 2 },
        { "Item": "衛生棉日+夜", "Quantity": 2 },
        { "Item": "小內褲刷", "Quantity": 1 },
        { "Item": "桌球拍", "Quantity": 1 },
        { "Item": "保暖帽子", "Quantity": 1 }
    ]
};

function renderBags() {
    const bagSections = document.getElementById('bag-sections');
    bagSections.innerHTML = '';

    for (const [bag, items] of Object.entries(data)) {
        const section = document.createElement('div');
        section.classList.add('bag-section');

        const title = document.createElement('h2');
        title.textContent = bag;
        section.appendChild(title);

        const table = document.createElement('table');
        const thead = document.createElement('thead');
        const tbody = document.createElement('tbody');

        const headerRow = document.createElement('tr');
        const itemHeader = document.createElement('th');
        itemHeader.textContent = '物品名稱';
        const quantityHeader = document.createElement('th');
        quantityHeader.textContent = '數量';

        headerRow.appendChild(itemHeader);
        headerRow.appendChild(quantityHeader);
        thead.appendChild(headerRow);

        items.forEach(item => {
            const row = document.createElement('tr');
            const itemName = document.createElement('td');
            itemName.textContent = item.Item;
            const itemQuantity = document.createElement('td');
            itemQuantity.textContent = item.Quantity;

            row.appendChild(itemName);
            row.appendChild(itemQuantity);
            tbody.appendChild(row);
        });

        table.appendChild(thead);
        table.appendChild(tbody);
        section.appendChild(table);
        bagSections.appendChild(section);
    }
}

function addItem() {
    const bagSelect = document.getElementById('bag-select');
    const itemName = document.getElementById('item-name');
    const itemQuantity = document.getElementById('item-quantity');

    if (itemName.value && itemQuantity.value) {
        const bag = bagSelect.value;
        const newItem = {
            "Item": itemName.value,
            "Quantity": parseInt(itemQuantity.value)
        };

        data[bag].push(newItem);
        renderBags();

        itemName.value = '';
        itemQuantity.value = '';
    } else {
        alert('請填寫物品名稱和數量');
    }
}

function searchItem() {
    const searchName = document.getElementById('search-name').value.toLowerCase();
    let found = false;

    for (const items of Object.values(data)) {
        items.forEach(item => {
            if (item.Item.toLowerCase() === searchName) {
                found = true;
                alert(`物品 "${item.Item}" 存在於行李清單中`);
            }
        });
    }

    if (!found) {
        alert(`物品 "${searchName}" 不存在於行李清單中`);
    }
}

document.addEventListener('DOMContentLoaded', () => {
    renderBags();
});
